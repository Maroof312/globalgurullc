.particle-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  pointer-events: none;
  z-index: 1;
  opacity: 0.7;
  max-width: 100%;

  .particle {
    position: absolute;
    width: var(--size);
    height: var(--size);
    background: var(--color);
    border-radius: 50%;
    opacity: 0.6;
    top: var(--y);
    left: var(--x);
    animation: float var(--duration) var(--delay) infinite ease-in-out;
    filter: blur(1px);
  }

  .particle:nth-child(odd) {
    animation: float-alt var(--duration) var(--delay) infinite ease-in-out;
  }

  .particle:nth-child(3n) {
    animation: float-3 var(--duration) var(--delay) infinite ease-in-out;
  }

  .particle:nth-child(4n) {
    animation: float-4 var(--duration) var(--delay) infinite ease-in-out;
  }
}

@keyframes float {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.4;
  }
  25% {
    transform: translate(30px, -20px) scale(1.3);
    opacity: 0.7;
  }
  50% {
    transform: translate(-25px, 15px) scale(0.8);
    opacity: 0.5;
  }
  75% {
    transform: translate(20px, 25px) scale(1.2);
    opacity: 0.6;
  }
}

@keyframes float-alt {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.5;
  }
  25% {
    transform: translate(-25px, 20px) scale(0.9);
    opacity: 0.7;
  }
  50% {
    transform: translate(20px, -15px) scale(1.4);
    opacity: 0.4;
  }
  75% {
    transform: translate(-15px, -25px) scale(0.7);
    opacity: 0.6;
  }
}

@keyframes float-3 {
  0%, 100% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    opacity: 0.3;
  }
  33% {
    transform: translate(35px, 10px) scale(1.5) rotate(120deg);
    opacity: 0.8;
  }
  66% {
    transform: translate(-20px, -30px) scale(0.6) rotate(240deg);
    opacity: 0.4;
  }
}

@keyframes float-4 {
  0%, 100% {
    transform: translate(0, 0) scale(1) skew(0deg, 0deg);
    opacity: 0.5;
  }
  25% {
    transform: translate(40px, -10px) scale(1.2) skew(5deg, 5deg);
    opacity: 0.9;
  }
  50% {
    transform: translate(-30px, 20px) scale(0.7) skew(-3deg, -3deg);
    opacity: 0.4;
  }
  75% {
    transform: translate(15px, 35px) scale(1.4) skew(2deg, 2deg);
    opacity: 0.7;
  }
}

/* Reduced motion support for accessibility */
@media (prefers-reduced-motion: reduce) {
  .particle-canvas {
    .particle {
      animation: none !important;
      opacity: 0.2;
    }
  }
}

/* Performance optimization for mobile devices */
@media (max-width: 768px) {
  .particle-canvas {
    opacity: 0.5;
    
    .particle {
      opacity: 0.4;
      filter: blur(0.5px);
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translate(0, 0) scale(1);
      opacity: 0.3;
    }
    50% {
      transform: translate(15px, 10px) scale(1.1);
      opacity: 0.5;
    }
  }

  @keyframes float-alt {
    0%, 100% {
      transform: translate(0, 0) scale(1);
      opacity: 0.3;
    }
    50% {
      transform: translate(15px, 10px) scale(1.1);
      opacity: 0.5;
    }
  }

  @keyframes float-3 {
    0%, 100% {
      transform: translate(0, 0) scale(1);
      opacity: 0.3;
    }
    50% {
      transform: translate(15px, 10px) scale(1.1);
      opacity: 0.5;
    }
  }

  @keyframes float-4 {
    0%, 100% {
      transform: translate(0, 0) scale(1);
      opacity: 0.3;
    }
    50% {
      transform: translate(15px, 10px) scale(1.1);
      opacity: 0.5;
    }
  }
}

/* Ultra-low power devices (very old mobile phones) */
@media (max-width: 480px) and (max-height: 700px) {
  .particle-canvas {
    display: none; /* Hide particles on very small/low-power devices */
  }
}